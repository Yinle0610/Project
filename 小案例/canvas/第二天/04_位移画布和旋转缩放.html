<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div class="container">
 <canvas id="cavsElem">
  </canvas>
</div>
  <script>
  (function() {
      var canvas = document.querySelector('#cavsElem');
      var ctx = canvas.getContext('2d');

      canvas.width = 600;
      canvas.height = 600;
      canvas.style.border = "1px solid #000";
      ctx.fillStyle = 'red';
      ctx.fillRect(10,10,40,40);
      // ctx 状态1

      ctx.save(); // 把当前的上下文的状态保存起来   状态1
      // 把当前画布移动到200，200的位置
      ctx.translate(200,200);
      ctx.rotate(30 * Math.PI / 180);// 旋转
      ctx.scale(2,2);// 缩放（x，y）
      ctx.globalAlpha = .3;// 透明度
      //  状态2
      ctx.fillStyle = 'pink';
      ctx.moveTo(0,0);
      ctx.lineTo(400,0);
      ctx.moveTo(0,0);
      ctx.lineTo(0,400);
      ctx.stroke();
      ctx.fillRect(10,10,40,40);
      ctx.restore();// 把上次保存的ctx状态 还原

      // 当前ctx为  状态1
      ctx.fillRect(400,400,100,100);
     })();
   </script>
</body>
</html>